---
title: Create Multiple .Rmd Reports with Input from Dataframe
author: Katharina Brunner
date: '2018-02-23'
slug: create-multiple-rmd-reports-with-input-from-dataframe
categories:
  - R
  - Workflow
tags:
  - knitr
  - Rmd
  - R Markdown
  - reports
---

At [SÃ¼ddeutsche Zeitung](http://sz.de) I work a lot with HTML-files generated by `.Rmd`-files. Sometimes there is the case that I want to generate similar looking HTML-files with input from a dataframe.

As an example I want to create two HTML-files containing one name. The names are stored in a dataframe. 
This can be solved with this pieces of code: 

You need two files: 

* an `.R`-script for accessing and rendering
* an `.Rmd`-file for creating the HTML-file

## 1. The `.R`-script

```r
library(rmarkdown)
library(dplyr)

# dataframe with two names
df <- data.frame(name = c("Katharina", "Theresa"))

# loop over dataframe in order to access every row and render an .Rmd-file
for (i in 1:nrow(df)) {
  
  # get the specific row
  name <- df %>% select(name) %>% slice(i)
  
  # start rendering the HTML-file, 
  rmarkdown::render('index.Rmd', output_file =  paste0("report_", name, ".html"), output_dir = 'html_files')
    
}
```


## 2. The `.Rmd-file`

I exclude almost all meta information in order to get a plain HTML-page.

```r

  ---
  name: ""
  author: ""
  output:
    html_document:
      theme: null
      self_contained: no
      highlight: null
      mathjax: null
  ---

  # you have to uncomment the next line
  ``` #{r, results='asis', echo=FALSE, warning=F, message=F}

  # Create HTML-Text and Elements
  cat(paste0("<h2>", name, "<h2"))


  ```

```


